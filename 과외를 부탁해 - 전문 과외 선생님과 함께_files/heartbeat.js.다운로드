(function(g){var window=this;'use strict';var Pq9=function(A,L){if(!Number.isFinite(A))return String(A);A=String(A);var B=A.indexOf(".");B===-1&&(B=A.length);var f=A[0]==="-"?"-":"";f&&(A=A.substring(1));return f+(0,g.CeE)("0",Math.max(0,L-B))+A},x$w=function(){return{Z:"svg",
C:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},B:[{Z:"path",C:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}}]}},eKw=function(){return{Z:"svg",
C:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},B:[{Z:"path",C:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]}},zKK=function(A){typeof A==="number"?(this.date=nbB(A,0,1),yM(this,1)):g.QK(A)?(this.date=nbB(A.getFullYear(),A.getMonth(),A.getDate()),yM(this,A.getDate())):(this.date=new Date(g.Ed()),A=this.date.getDate(),
this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),yM(this,A))},nbB=function(A,L,B){L=new Date(A,L,B);
A>=0&&A<100&&L.setFullYear(L.getFullYear()-1900);return L},yM=function(A,L){A.getDate()!=L&&A.date.setUTCHours(A.date.getUTCHours()+(A.getDate()<L?1:-1))},jJ=function(A,L){g.zg.call(this,A,{Z:"div",
j:"ytp-reminder-menu",C:{role:"menu",tabindex:"-1"},B:[{Z:"div",j:"ytp-reminder-menu-contents",B:[{Z:"div",j:"ytp-reminder-menu-items"}]}]},100,!0);this.N=L;this.W=[];this.menuPopupRenderer=void 0;this.items=this.m4("ytp-reminder-menu-items");this.hide()},u3B=function(A){return(A.menuPopupRenderer&&A.menuPopupRenderer.items||[]).reduce(function(L,B){B&&B.menuServiceItemRenderer&&L.push(B.menuServiceItemRenderer);
return L},[])},g7=function(A){g.q.call(this,{Z:"div",
B:[{Z:"button",Rr:["ytp-offline-slate-button","ytp-button"],B:[{Z:"div",j:"ytp-offline-slate-button-icon",Ir:"{{icon}}"},{Z:"div",j:"ytp-offline-slate-button-text",Ir:"{{text}}"}]}]});this.S=A;this.upcomingEventReminderButtonRenderer=this.toggleButtonRenderer=null;this.W=void 0;this.U=this.N=null;(this.D=this.m4("ytp-offline-slate-button"))&&this.Y(this.D,"click",this.T);this.hide()},As5=function(A,L,B){!A.toggleButtonRenderer&&L&&L.toggleButtonRenderer?A.toggleButtonRenderer=L.toggleButtonRenderer:
L&&L.toggleButtonRenderer||(A.toggleButtonRenderer=null);
!A.upcomingEventReminderButtonRenderer&&B&&g.y(B,aZB)?A.upcomingEventReminderButtonRenderer=g.y(B,aZB):B&&g.y(B,aZB)||(A.upcomingEventReminderButtonRenderer=null);Gq(A)},Gq=function(A){if(A.toggleButtonRenderer){var L=A.toggleButtonRenderer;
if(L.isToggled){var B=L.toggledText?g.wq(L.toggledText):"";A.update({text:B,icon:LV9(L.toggledIcon)})}else B=L.defaultText?g.wq(L.defaultText):"",A.update({text:B,icon:LV9(L.defaultIcon)});A.show()}else A.upcomingEventReminderButtonRenderer?(L=oEf(A))?(B=L.text?g.wq(L.text):"",A.update({text:B,icon:LV9(L.icon)}),A.show()):A.hide():A.hide()},fnK=function(A,L,B){A.U||(A.U=new g.uy(A.S.K().e6));
var f={context:g.Du(A.U.config_||g.FY())};g.sF()&&(f.context.clientScreenNonce=g.sF());f.params=B;g.aI(A.U,L,f,{timeout:5E3,onSuccess:function(){A.upcomingEventReminderButtonRenderer&&A.W&&(A.upcomingEventReminderButtonRenderer.currentState=A.W,A.W=void 0)},
onError:function(){BiI(A)},
onTimeout:function(){BiI(A)}})},BiI=function(A){A.toggleButtonRenderer?(A.toggleButtonRenderer.isToggled=!A.toggleButtonRenderer.isToggled,Gq(A)):A.upcomingEventReminderButtonRenderer&&(A.W=void 0,Gq(A))},LV9=function(A){if(!A)return null;
switch(A.iconType){case "NOTIFICATIONS":return x$w();case "NOTIFICATIONS_NONE":return eKw();case "NOTIFICATIONS_ACTIVE":return g.ba();default:return null}},oEf=function(A){if(!A.upcomingEventReminderButtonRenderer)return null;
var L=A.W||A.upcomingEventReminderButtonRenderer.currentState;A=g.m(A.upcomingEventReminderButtonRenderer.states||[]);for(var B=A.next();!B.done;B=A.next())if((B=g.y(B.value,KVK))&&B.state===L&&B.button&&g.y(B.button,g.te))return g.y(B.button,g.te);return null},V15=function(A){g.q.call(this,{Z:"div",
j:"ytp-offline-slate",B:[{Z:"div",j:"ytp-offline-slate-background"},{Z:"div",j:"ytp-offline-slate-bar",B:[{Z:"span",j:"ytp-offline-slate-icon",B:[{Z:"svg",C:{fill:"#fff",height:"100%",viewBox:"0 0 24 24",width:"100%"},B:[{Z:"path",C:{d:"M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"}},
{Z:"circle",C:{cx:"12",cy:"12",r:"3"}}]}]},{Z:"span",j:"ytp-offline-slate-messages",B:[{Z:"div",j:"ytp-offline-slate-main-text",C:{"aria-label":"{{label}}"},Ir:"{{mainText}}"},{Z:"div",j:"ytp-offline-slate-subtitle-text",Ir:"{{subtitleText}}"}]},{Z:"span",j:"ytp-offline-slate-buttons"}]},{Z:"button",Rr:["ytp-offline-slate-close-button","ytp-button"],B:[g.gq()]},{Z:"button",Rr:["ytp-offline-slate-open-button","ytp-button"],B:[g.jN()]}]});var L=this;this.api=A;this.N=this.W=null;this.background=this.m4("ytp-offline-slate-background");
this.V=this.m4("ytp-offline-slate-bar");this.D=new g.aa(function(){g.R1(L.V,"ytp-offline-slate-bar-fade")},15E3);
this.T=!1;this.U=new g.aa(function(){g.R1(L.element,"ytp-offline-slate-collapsed")},15E3);
g.W(this,this.U);g.W(this,this.D);this.countdownTimer=new g.aa(this.Q6,1E3,this);this.Y(A,"presentingplayerstatechange",this.KA);this.Y(A,"livestatedata",this.zL);this.Y(this.m4("ytp-offline-slate-close-button"),"click",function(){g.R1(L.element,"ytp-offline-slate-collapsed")});
this.Y(this.m4("ytp-offline-slate-open-button"),"click",function(){g.NH(L.element,"ytp-offline-slate-collapsed")});
this.hide();A=this.getVideoData();A.getPlayerResponse()&&(A=A.getPlayerResponse().playabilityStatus)&&this.zL(A);A=this.api.getPresentingPlayerType()===8&&!this.getVideoData().yW;var B=this.api.getPresentingPlayerType()===8;g.D1(this.element,"ytp-offline-slate-premiere-trailer",A);g.D1(this.element,"ytp-offline-slate-hide-background",B)},JsK=function(A,L,B){if(L){var f=L.subtitleText!=null?g.wq(L.subtitleText):"";
B=B?B:L.mainText!=null?g.wq(L.mainText):"";var K,V,J,R;L=(R=(K=L.mainText)==null?void 0:(V=K.accessibility)==null?void 0:(J=V.accessibilityData)==null?void 0:J.label)!=null?R:B;A.update({mainText:B,subtitleText:f,label:L});g.D1(A.element,"ytp-offline-slate-single-text-line",!f);g.D1(A.V,"ytp-offline-slate-bar-hidden",!B&&!f)}},r7=function(A,L){var B=(0,g.bc)();
this.trigger=A;this.N=L;this.V=B},DhB=function(A){g.FB.call(this,A);
var L=this;this.X=!1;this.G=0;this.D=!1;this.W=new g.aa(function(){S0d(L)},0);
this.N=this.heartbeatParams=null;this.U=!1;this.T=new g.v3(1E3,6E4,1);this.sequenceNumber=0;this.offlineSlate=null;this.Wn=new g.uy(void 0);this.attestationResponse=Promise.resolve(void 0);this.yj=Promise.resolve(void 0);this.utcOffsetMinutes=-(new zKK).getTimezoneOffset();this.V=new g.dN(this);g.W(this,this.W);g.W(this,this.V);R4X(this);ZHK(this);this.V.Y(A,"heartbeatparams",this.bV);this.V.Y(A,"presentingplayerstatechange",this.aK);this.V.Y(A,"videoplayerreset",this.Kq);this.V.Y(A,g.qR("heartbeat"),
this.onCueRangeEnter);this.U&&this.N&&Nit(this,void 0,this.N);var B=new g.WR(so(this,!0),0x7ffffffffffff,{priority:1,namespace:"heartbeat"}),f=new g.WR(0x8000000000000,0x8000000000000,{id:"stream_end",priority:1,namespace:"heartbeat"});A.dX([B,f]);FV5(this)},FV5=function(A){var L=A.getVideoData();
!L.J("use_rta_for_player")&&L.l_&&(L=L.botguardData)&&g.HZ(L,A.player.K())},dhw=function(A){var L,B;
return g.c(function(f){if(f.N==1)return g.X(f,g.paQ(),2);if(!f.W)return A.sequenceNumber>=3?f.return({error:"ATTESTATION_ERROR_VM_INTERNAL_ERROR"}):f.return(void 0);L=A.getVideoData();B={};return f.return(g.wav((B.cpn=L.clientPlaybackNonce,B.encryptedVideoId=L.videoId||"",B),1500))})},R4X=function(A){var L=A.getVideoData();
if(L.l_)if(L.J("use_rta_for_player"))A.attestationResponse=dhw(A);else if(L=new g.JmL(L),g.G4.isInitialized()||A.sequenceNumber>=3){var B=Promise,f=B.resolve,K=null;if(L.videoData.EZ){var V=g.SZD(L);if(V){K={};var J={};V=V.split("&");V=g.m(V);for(var R=V.next();!R.done;R=V.next())R=R.value.split("="),R.length===2&&(J[R[0]]=R[1]);J.r1a&&(K.webResponse=J.r1a);J.r1c&&(K.error=InO[Number(J.r1c)]);K.challenge=L.videoData.EZ}}A.attestationResponse=f.call(B,K||void 0)}},wS5=function(A){var L=A.getVideoData();
if(!g.Cr(A.getVideoData())||L.V$)return!1;if(L.D){A=L.D.flavor==="playready"&&L.J("html5_innertube_heartbeats_for_playready");var B=L.D.flavor==="widevine"&&L.J("html5_innertube_heartbeats_for_widevine");L=g.DA(L.D)&&L.J("html5_innertube_heartbeats_for_fairplay");return!(A||B||L)}return!0},pSt=function(A){if(wS5(A))return!!A.heartbeatParams;
var L=A.getVideoData();return!g.Cr(A.getVideoData())||L.B$||L.SM?!!L.heartbeatToken:!1},Hx=function(A,L){if(!A.W.isActive()&&A.X){var B=A.getVideoData();
if(pSt(A)||B.isLivePlayback){if(L===void 0)if(A.D)if(A.U)L=7500;else{var f;L=((f=A.heartbeatParams)==null?0:f.interval)?A.heartbeatParams.interval*1E3:A.getVideoData().y3||6E4}else L=1E3;A.W.start(L)}}},GIO=function(A,L,B){L.Mb&&(B=g.ip(B,{internalipoverride:L.Mb}));
var f={cpn:L.clientPlaybackNonce};L.contextParams&&(f.context_params=L.contextParams);L.Ox&&(f.kpt=L.Ox);B=g.ip(B,f);g.ll(B,{format:"RAW",method:"GET",timeout:3E4,onSuccess:function(K){if(!A.W.isActive()&&hM(A)){A.T.reset();A.sequenceNumber++;K=K.responseText;var V=ysB(K);if(V){A.player.Kr("onHeartbeat",V);var J=V.status==="ok"?V.stop_heartbeat?2:0:V.status==="stop"?1:V.status==="live_stream_offline"?0:-1}else J=(J=K.match(jKR))?J[1]==="0"?0:1:-1;gEd(A,void 0,V,K,J)}},
onError:function(K){hM(A)&&bU(A,!0,"net-"+K.status)},
onTimeout:function(){hM(A)&&bU(A,!0,"timeout")},
withCredentials:!0})},S0d=function(A){var L,B;
g.c(function(f){L=A.player.K();B=A.getVideoData();if(!hM(A))return f.return();if(wS5(A))return rsd(A,L,B),f.Ux(0);R4X(A);return g.X(f,sKf(A,L,B),0)})},rsd=function(A,L,B){var f;
if((f=A.heartbeatParams)!=null&&f.url){var K=g.ip(A.heartbeatParams.url,{request_id:g.Lcw()});B.qp&&(K=g.ip(K,{vvt:B.qp}),B.mdxEnvironment&&(K=g.ip(K,{mdx_environment:B.mdxEnvironment})));g.po(L,B.oauthToken).then(function(V){V&&(K=g.ip(K,{access_token:V}));GIO(A,B,K)})}},hM=function(A){var L=A.getVideoData();
return A.player.getPresentingPlayerType()===3||!A.player.K().experiments.Qf().N.Iv(g.j0B)&&g.x(A.player.getPlayerStateObject(A.getPlayerType()),4)?!1:pSt(A)||L.isLivePlayback?!0:(tM(A),!1)},sKf=function(A,L,B){var f,K,V,J,R,Z,N,F,D,I,d,w,r,h,Q,l,C,O,v,U;
return g.c(function(a){if(a.N==1)return f="player/heartbeat",V={videoId:B.videoId,sequenceNumber:A.sequenceNumber,heartbeatServerData:(K=A.qp)!=null?K:B.heartbeatServerData},A.yj=A.attestationResponse,B.l_?g.X(a,A.yj,3):a.Ux(2);a.N!=2&&(V.attestationResponse=a.W);J=g.dh(B);Z=(R=J.client)!=null?R:{};Z.utcOffsetMinutes=A.utcOffsetMinutes;V.context=J;V.cpn=B.clientPlaybackNonce;if(N=typeof Intl!=="undefined"?(new Intl.DateTimeFormat).resolvedOptions().timeZone:null)Z.timeZone=N;F={heartbeatChecks:[]};
if(D=B.getPlayerResponse())B.heartbeatToken&&(V.heartbeatToken=B.heartbeatToken),(I=D.playabilityStatus)&&(d=I.liveStreamability)&&d.liveStreamabilityRenderer&&F.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_LIVE_STREAM_STATUS");B.heartbeatToken&&F.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_YPC");g.dY(L)&&(F.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_UNPLUGGED"),w=HHK(A),r={},w!==null&&(r.clientPlayerPositionUtcMillis=w),Q=(h=A.player.SI())==null?void 0:g.hq(h),C=((l=Q)==null?void 0:l.freePreviewWatchedDuration)||
0,C>0&&(r.freePreviewWatchedDuration={seconds:""+C}),F.unpluggedParams=r);V.heartbeatRequestParams=F;B.isLivePlayback?(O=HHK(A),O!==null&&(V.playbackState||(V.playbackState={}),V.playbackState.playbackPosition={utcTimeMillis:O})):L.J("enable_heartbeat_vod_playback_position")&&(v=h4K(A),v!==null&&(V.playbackState||(V.playbackState={}),V.playbackState.playbackPosition={streamTimeMillis:v}));A.player.publish("heartbeatRequest",V);U={timeout:3E4,onSuccess:function(o0){if(!A.W.isActive()&&hM(A)){var B6=
A.getVideoData(),Ve=B6.l_&&A.yj==null,DS;B6.l_=!((DS=o0.heartbeatAttestationConfig)==null||!DS.requiresAttestation)||Ve;Ve=o0.playabilityStatus;DS=JSON.stringify(Ve)||"{}";o0.authenticationMismatch&&A.player.Hn("authshear",{});var fw=-1;var ry=o0.playabilityStatus;ry&&(A.player.Kr("onHeartbeat",ry),ry.status==="OK"?fw=o0.stopHeartbeat?2:0:ry.status==="UNPLAYABLE"?fw=1:ry.status==="LIVE_STREAM_OFFLINE"&&(fw=0));A.sequenceNumber&&fw===-1||A.T.reset();A.sequenceNumber++;o0.heartbeatServerData&&(A.qp=
o0.heartbeatServerData);B6.hq=o0;(ry=o0.playerCueRangeSet)&&g.ZQ(B6,ry);o0.playerCueRanges&&o0.playerCueRanges.length>0&&(B6.cueRanges=o0.playerCueRanges);var uL,Jf;((uL=o0.progressBarConfig)==null?0:uL.progressBarStartPosition)&&((Jf=o0.progressBarConfig)==null?0:Jf.progressBarEndPosition)&&(B6.progressBarStartPosition=o0.progressBarConfig.progressBarStartPosition,B6.progressBarEndPosition=o0.progressBarConfig.progressBarEndPosition);B6.compositeLiveIngestionOffsetToken=o0.compositeLiveIngestionOffsetToken;
o0.compositeLiveStatusToken!==B6.compositeLiveStatusToken&&(B6.compositeLiveStatusToken=o0.compositeLiveStatusToken);B6.heartbeatLoggingToken=o0.heartbeatLoggingToken;B6.publish("dataupdated");gEd(A,o0,Ve,DS,fw)}},
onError:function(o0){hM(A)&&bU(A,!0,"net-"+o0.status)},
onTimeout:function(){hM(A)&&bU(A,!0,"timeout")}};
g.po(L,g.Aj(B)).then(function(o0){o0&&(U.U2="Bearer "+o0);g.aI(A.Wn,f,V,U)});
g.VK(a)})},gEd=function(A,L,B,f,K){K===-1?(B="decode "+g.Uz(f,3),bU(A,!1,B)):K===2?(tM(A),A.D=!0):(A.G=0,A.W.stop(),K===1?(A.D=!1,B&&B.errorCode==="PLAYABILITY_ERROR_CODE_EMBARGOED"&&A.player.Qe(!0),K="pe."+(B==null?void 0:B.errorCode)+";ps."+(B==null?void 0:B.status),A.player.O9("heartbeat.stop",2,A.SE(f),K),g.pE("heartbeatActionPlayerHalted",bHf(B)),(L==null?0:L.videoTransitionEndpoint)&&B&&(L=L.videoTransitionEndpoint,(f=g.y(L,g.FZ))&&t15(A,f,B,{itct:L==null?void 0:L.clickTrackingParams}))):(A.D=
!0,f=0,A.U&&B&&(f=Nit(A,L,B),A.player.publish("livestatedata",B)),f?Hx(A,f):Hx(A)))},Nit=function(A,L,B){var f=B.liveStreamability&&B.liveStreamability.liveStreamabilityRenderer,K=!(!f||!(f.switchStreamsImmediately||f.transitionTiming&&f.transitionTiming==="STREAM_TRANSITION_TIMING_IMMEDIATELY"));
L=kIf(L,f);var V=A.getVideoData(),J=A.player.getPlayerStateObject(A.getPlayerType()),R=J.isPlaying()&&!g.MG(V)&&!A.player.isAtLiveHead(A.getPlayerType());if(V.K().hw()){var Z,N=((Z=A.player.pD())==null?void 0:Z.Ov())||{};N.status=B.status||"";N.dvr=""+ +R;N["switch"]=""+ +K;N.ended=""+ +!(!f||!f.displayEndscreen);A.player.Hn("heartbeat",N)}Z=f&&f.broadcastId;N=A.N&&A.N.liveStreamability&&A.N.liveStreamability.liveStreamabilityRenderer&&A.N.liveStreamability.liveStreamabilityRenderer.broadcastId;var F=
Z!==N&&Z!=null;F&&A.player.Hn("lbidh",{broadcastId:Z},!0);var D=A.player.J("always_cache_redirect_endpoint");if(R&&!K&&!D)return L;var I=f&&f.streamTransitionEndpoint&&g.y(f.streamTransitionEndpoint,g.FZ),d=f&&f.transitionTiming;if(d==="STREAM_TRANSITION_TIMING_AT_STREAM_END")A.getVideoData().transitionEndpointAtEndOfStream=I;else if(D&&!I&&A.getVideoData().transitionEndpointAtEndOfStream)A.getVideoData().transitionEndpointAtEndOfStream=void 0;else if(!D&&I&&t15(A,I,B))return L;if(R&&!K&&D||D&&I&&
(d==="STREAM_TRANSITION_TIMING_IMMEDIATELY"||d==="STREAM_TRANSITION_TIMING_UNSPECIFIED")&&t15(A,I,B))return L;if(B.status.toUpperCase()==="OK"){if(!g.Or(V)||F){var w={video_id:V.videoId};V.y8&&(w.is_live_destination="1");w.disable_watch_next=!0;w.raw_watch_next_response=V.getWatchNextResponse();w.autonav_state=V.autonavState;w.oauth_token=V.oauthToken;w.LX=V.LX;V.T&&(w.vss_credentials_token=V.T,w.vss_credentials_token_type=V.Zl);V.qp&&(w.vvt=V.qp);f=void 0;g.Or(V)?F&&(f=new r7("broadcastIdChanged",
N+","+Z),A.Xu("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_BROADCAST_ID_CHANGED",B)):(Z&&(f=new r7("formatsReceived",""+Z)),A.Xu("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_LIVE_STREAM_WENT_ONLINE",B));F&&A.player.Hn("lbidr",{broadcastId:Z});A.player.loadVideoByPlayerVars(w,void 0,void 0,void 0,f);return L}A.player.Z2("heartbeat",A.getPlayerType())}f&&f.displayEndscreen&&(A.offlineSlate?(A=A.offlineSlate,A.T=!0,A.bC&&A.api.SZ()):J.isBuffering()&&
(V=((w=A.player.pD())==null?void 0:w.Ov())||{},A.player.Hn("hbse",V,!0),A.player.SZ(!0,"h"),A.player.Kr("onLiveMediaEnded",B)));return L},kIf=function(A,L){return(A=Number(A==null?void 0:A.pollDelayMs))?A:(L=Number(L==null?void 0:L.pollDelayMs))?L:0},bU=function(A,L,B){if(!A.W.isActive()){A.W.stop();
A.G++;var f=L?"heartbeat.net":"heartbeat.servererror";var K=A.getVideoData();if(K.BU||L&&!g.Cr(A.getVideoData())&&!pSt(A)&&K.isLivePlayback)K=!1;else{var V,J;((J=A.heartbeatParams)==null?0:J.retries)?V=A.heartbeatParams.retries:V=K.cU||5;K=A.G>=V}K?(g.pE("heartbeatActionPlayerHalted",L?{enforcedPolicyToHaltOnNetworkFailure:!0}:bHf()),(L=A.getVideoData())&&L.isLivePlayback?A.player.O9(f,1,"\ub3d9\uc601\uc0c1 \uc7ac\uc0dd\uc774 \uc911\ub2e8\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.",
B):A.player.O9(f,1,"\ub3d9\uc601\uc0c1\uc5d0 \ub77c\uc774\uc120\uc2a4\ub97c \ubd80\uc5ec\ud558\ub294 \uc911\uc5d0 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.",B)):(Hx(A,A.T.getValue()),g.qO(A.T))}},bHf=function(A){var L={enforcedPolicyToHaltOnNetworkFailure:!1};
A&&(L.serializedServerContext=A.additionalLoggingData);return L},tM=function(A){A.G=0;
A.W.stop();A.D=!1;A.sequenceNumber=0},ZHK=function(A){var L=A.getVideoData(),B=A.player.K();
if(L.isLivePlayback)if(g.b9(B.D)){A.U=!0;A.X=!0;if(!g.wY(B)||g.dY(B))A.offlineSlate=new V15(A.player),g.W(A,A.offlineSlate),g.Wh(A.player,A.offlineSlate.element,4);(L=L.getPlayerResponse())&&L.playabilityStatus&&(A.N=L.playabilityStatus);var f;((f=A.N)==null?void 0:f.status)!=="UNPLAYABLE"&&(A.N?(f=kIf(void 0,A.N.liveStreamability&&A.N.liveStreamability.liveStreamabilityRenderer))?Hx(A,f):Hx(A,7500):Hx(A,so(A,!0)))}else A.player.O9("html5.unsupportedlive",2,"HTML5_NO_AVAILABLE_FORMATS_FALLBACK","nolive.1");
else g.zK(L.p9,"heartbeat")&&A.player.Z2("heartbeat",A.getPlayerType())},t15=function(A,L,B,f){var K=L&&L.videoId;
return K?(A.player.Dl(K,Object.assign({},{autonav:"1"},f||{}),void 0,!0,!0,L,g.Aj(A.getVideoData())),A.Xu("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT",B),!0):!1},HHK=function(A){return(A=A.player.getProgressState(A.getPlayerType()).ingestionTime)&&isFinite(A)?""+Math.floor(A*1E3):null},h4K=function(A){return(A=A.player.getCurrentTime(A.getPlayerType()))&&isFinite(A)?""+Math.floor(A*1E3):null},so=function(A,L){L=L===void 0?!1:L;
A=A.getVideoData();return A.J("html5_use_server_init_heartbeat_delay")?isNaN(A.y3)?15E3:A.y3:L?1E3:2E3},ysB=function(A){try{var L=JSON.parse(A);
return L!=null?L:void 0}catch(B){}},TiW={ERAS:["BC",
"AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
TiW={ERAS:["BC","AD"],ERANAMES:["\uae30\uc6d0\uc804","\uc11c\uae30"],NARROWMONTHS:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),STANDALONENARROWMONTHS:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),MONTHS:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),STANDALONEMONTHS:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),
SHORTMONTHS:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),STANDALONESHORTMONTHS:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),WEEKDAYS:"\uc77c\uc694\uc77c \uc6d4\uc694\uc77c \ud654\uc694\uc77c \uc218\uc694\uc77c \ubaa9\uc694\uc77c \uae08\uc694\uc77c \ud1a0\uc694\uc77c".split(" "),STANDALONEWEEKDAYS:"\uc77c\uc694\uc77c \uc6d4\uc694\uc77c \ud654\uc694\uc77c \uc218\uc694\uc77c \ubaa9\uc694\uc77c \uae08\uc694\uc77c \ud1a0\uc694\uc77c".split(" "),
SHORTWEEKDAYS:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),STANDALONESHORTWEEKDAYS:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),NARROWWEEKDAYS:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),STANDALONENARROWWEEKDAYS:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),SHORTQUARTERS:["1\ubd84\uae30","2\ubd84\uae30","3\ubd84\uae30","4\ubd84\uae30"],QUARTERS:["\uc81c 1/4\ubd84\uae30","\uc81c 2/4\ubd84\uae30","\uc81c 3/4\ubd84\uae30","\uc81c 4/4\ubd84\uae30"],AMPMS:["AM",
"PM"],DATEFORMATS:["y\ub144 MMMM d\uc77c EEEE","y\ub144 MMMM d\uc77c","y. M. d.","yy. M. d."],TIMEFORMATS:["a h\uc2dc m\ubd84 s\ucd08 zzzz","a h\uc2dc m\ubd84 s\ucd08 z","a h:mm:ss","a h:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
var InO=["ATTESTATION_ERROR_UNKNOWN","ATTESTATION_ERROR_VM_NOT_INITIALIZED","ATTESTATION_ERROR_VM_NO_RESPONSE","ATTESTATION_ERROR_VM_TIMEOUT","ATTESTATION_ERROR_VM_INTERNAL_ERROR"],lnf={300:"STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",301:"ALREADY_PINNED_ON_A_DEVICE",303:"STOPPED_BY_ANOTHER_PLAYBACK",304:"TOO_MANY_STREAMS_PER_USER",305:"TOO_MANY_STREAMS_PER_ENTITLEMENT",400:"VIDEO_NOT_FOUND",401:"GEO_FAILURE",402:"STREAMING_NOT_ALLOWED",403:"UNSUPPORTED_DEVICE",405:"VIDEO_FORBIDDEN",500:"PURCHASE_NOT_FOUND",
501:"RENTAL_EXPIRED",502:"PURCHASE_REFUNDED",5E3:"BAD_REQUEST",5001:"CGI_PARAMS_MISSING",5002:"CGI_PARAMS_MALFORMED",5100:"AUTHENTICATION_MISSING",5101:"AUTHENTICATION_MALFORMED",5102:"AUTHENTICATION_EXPIRED",5200:"CAST_TOKEN_MALFORMED",5201:"CAST_TOKEN_EXPIRED",5202:"CAST_TOKEN_FAILED",5203:"CAST_SESSION_VIDEO_MISMATCHED",5204:"CAST_SESSION_DEVICE_MISMATCHED",6E3:"INVALID_DRM_MESSAGE",7E3:"SERVER_ERROR",8E3:"RETRYABLE_ERROR"};g.p=zKK.prototype;g.p.AP=TiW.FIRSTDAYOFWEEK;g.p.hP=TiW.FIRSTWEEKCUTOFFDAY;
g.p.clone=function(){var A=new zKK(this.date);A.AP=this.AP;A.hP=this.hP;return A};
g.p.getFullYear=function(){return this.date.getFullYear()};
g.p.getYear=function(){return this.getFullYear()};
g.p.getMonth=function(){return this.date.getMonth()};
g.p.getDate=function(){return this.date.getDate()};
g.p.getTime=function(){return this.date.getTime()};
g.p.getDay=function(){return this.date.getDay()};
g.p.getUTCFullYear=function(){return this.date.getUTCFullYear()};
g.p.getUTCMonth=function(){return this.date.getUTCMonth()};
g.p.getUTCDate=function(){return this.date.getUTCDate()};
g.p.getUTCDay=function(){return this.date.getDay()};
g.p.getUTCHours=function(){return this.date.getUTCHours()};
g.p.getUTCMinutes=function(){return this.date.getUTCMinutes()};
g.p.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};
g.p.set=function(A){this.date=new Date(A.getFullYear(),A.getMonth(),A.getDate())};
g.p.setFullYear=function(A){this.date.setFullYear(A)};
g.p.setYear=function(A){this.setFullYear(A)};
g.p.setMonth=function(A){this.date.setMonth(A)};
g.p.setDate=function(A){this.date.setDate(A)};
g.p.setTime=function(A){this.date.setTime(A)};
g.p.setUTCFullYear=function(A){this.date.setUTCFullYear(A)};
g.p.setUTCMonth=function(A){this.date.setUTCMonth(A)};
g.p.setUTCDate=function(A){this.date.setUTCDate(A)};
g.p.add=function(A){if(A.years||A.months){var L=this.getMonth()+A.months+A.years*12,B=this.getYear()+Math.floor(L/12);L%=12;L<0&&(L+=12);a:{switch(L){case 1:var f=B%4!=0||B%100==0&&B%400!=0?28:29;break a;case 5:case 8:case 10:case 3:f=30;break a}f=31}f=Math.min(f,this.getDate());this.setDate(1);this.setFullYear(B);this.setMonth(L);this.setDate(f)}A.days&&(B=this.getYear(),L=B>=0&&B<=99?-1900:0,A=new Date((new Date(B,this.getMonth(),this.getDate(),12)).getTime()+A.days*864E5),this.setDate(1),this.setFullYear(A.getFullYear()+
L),this.setMonth(A.getMonth()),this.setDate(A.getDate()),yM(this,A.getDate()))};
g.p.equals=function(A){return!(!A||this.getYear()!=A.getYear()||this.getMonth()!=A.getMonth()||this.getDate()!=A.getDate())};
g.p.toString=function(){var A=this.getFullYear(),L=A<0?"-":A>=1E4?"+":"";return[L+Pq9(Math.abs(A),L?6:4),Pq9(this.getMonth()+1,2),Pq9(this.getDate(),2)].join("")+""};
g.p.valueOf=function(){return this.date.valueOf()};var mhd=new g.CX("addUpcomingEventReminderEndpoint");var QKB=new g.CX("removeUpcomingEventReminderEndpoint");var CWf=new g.CX("updateUpcomingEventReminderButtonStateCommand");var aZB=new g.CX("upcomingEventReminderButtonRenderer"),KVK=new g.CX("upcomingEventReminderButtonStateRenderer");g.G(jJ,g.zg);
jJ.prototype.updateMenuItems=function(){var A=this,L=u3B(this),B=0;B=0;for(var f={};B<L.length;f={Ht:void 0},B++){var K=this.W[B];K||(K=new g.q({Z:"div",j:"ytp-reminder-menu-item",C:{role:"menuitem",tabindex:"0"},B:[{Z:"div",j:"ytp-reminder-menu-item-icon",Ir:"{{icon}}"},{Z:"div",j:"ytp-reminder-menu-item-label",Ir:"{{text}}"}]}),f.Ht=B,K.listen("click",function(J){return function(){var R=J.Ht;A.YP();R=u3B(A)[R];A.publish("reminderMenuItemClicked",R.serviceEndpoint||R.command)}}(f)),K.DM(this.items),
this.W[B]=K);
var V=L[B];f=null;switch(V.icon&&V.icon.iconType){case "NOTIFICATIONS":f=x$w();break;case "NOTIFICATIONS_NONE":f=eKw();break;case "NOTIFICATIONS_ACTIVE":f=g.ba()}V=V.text?g.wq(V.text):"";K.update({icon:f,text:V})}for(;B<this.W.length;)this.W.pop().dispose();B===0?this.YP():this.fD(this.N)};
jJ.prototype.hide=function(){this.N&&this.N.removeAttribute("aria-haspopup");g.zg.prototype.hide.call(this)};
jJ.prototype.show=function(){this.N&&this.N.setAttribute("aria-haspopup","true");g.zg.prototype.show.call(this)};
jJ.prototype.l1=function(){g.gH(this.W);g.zg.prototype.l1.call(this)};g.G(g7,g.q);
g7.prototype.T=function(){if(this.toggleButtonRenderer){var A=this.toggleButtonRenderer;A.isToggled?this.V(A.toggledServiceEndpoint):this.V(A.defaultServiceEndpoint);A.isToggled=!A.isToggled;Gq(this)}else if(this.upcomingEventReminderButtonRenderer)if(this.N&&this.N.bC)this.N.YP();else{var L=oEf(this);L&&this.V(L.serviceEndpoint||L.command);L=((A=g.y(L==null?void 0:L.command,g.yr))==null?void 0:A.commands)||[];a:{A=g.m(L);for(var B=A.next();!B.done;B=A.next()){var f=L=void 0;if(B=(L=g.y(B.value,g.oWW))==
null?void 0:(f=L.popup)==null?void 0:f.menuPopupRenderer){A=B;break a}}A=void 0}this.N||(this.N=new jJ(this.S,this.D),this.N.DM(this.element),g.W(this,this.N),this.N.subscribe("reminderMenuItemClicked",this.V,this));L=this.N;L.menuPopupRenderer=A;L.updateMenuItems()}};
g7.prototype.V=function(A){var L=g.y(A,mhd),B=g.y(A,QKB);if(A&&(L||B)){if(L){var f=L;var K="notification/add_upcoming_event_reminder"}else B&&(f=B,K="notification/remove_upcoming_event_reminder");if(K&&f&&f.params)for(fnK(this,K,f.params),A=g.m(f.commands||[]),L=A.next();!L.done;L=A.next())if((L=L.value)&&g.y(L,CWf)){this.W=g.y(L,CWf).state;Gq(this);break}}};g.G(V15,g.q);g.p=V15.prototype;g.p.getPlayerType=function(){if(this.api.getPresentingPlayerType()===8)return 1};
g.p.getVideoData=function(){return this.api.getVideoData(this.getPlayerType())};
g.p.zL=function(A){var L,B,f=A==null?void 0:(L=A.liveStreamability)==null?void 0:(B=L.liveStreamabilityRenderer)==null?void 0:B.offlineSlate;if(f){this.W=A;L=f.liveStreamOfflineSlateRenderer;L.canShowCountdown?this.Q6():JsK(this,L);var K,V,J,R;if(B=A==null?void 0:(K=A.liveStreamability)==null?void 0:(V=K.liveStreamabilityRenderer)==null?void 0:(J=V.offlineSlate)==null?void 0:(R=J.liveStreamOfflineSlateRenderer)==null?void 0:R.thumbnail){K=0;V=null;J=B.thumbnails;for(R=0;R<J.length;R++)J[R].width>
K&&(K=J[R].width||0,V=J[R].url);V&&(this.background.style.backgroundImage="url("+V+")")}else this.background.style.backgroundImage="";L.actionButtons||L.reminderButton?(this.N||(this.N=new g7(this.api),this.N.DM(this.m4("ytp-offline-slate-buttons")),g.W(this,this.N)),As5(this.N,L.actionButtons&&L.actionButtons[0],L.reminderButton)):this.N&&As5(this.N,null,null);this.W=A}else this.W=null;this.KA()};
g.p.KA=function(A){if(this.api.getPresentingPlayerType()===8)var L=!0;else{var B=this.api.getPlayerStateObject(),f=this.getVideoData();L=f.isLivePlayback&&(B.isBuffering()||g.x(B,2)||g.x(B,64));var K=f.autonavState===2&&g.x(B,2);B=B.isPlaying()&&!g.MG(f)&&!this.api.isAtLiveHead(void 0,!0);L=L&&!B&&!K}L&&this.W?this.bC?(A==null?0:g.wk(A,2))&&!this.getVideoData().yW&&(g.NH(this.element,"ytp-offline-slate-collapsed"),this.U.stop(),g.NH(this.V,"ytp-offline-slate-bar-fade"),this.D.start()):(this.show(),
this.U.start(),this.api.publish("offlineslatestatechange"),this.T&&this.api.SZ()):this.bC&&(this.hide(),this.api.publish("offlineslatestatechange"))};
g.p.Q6=function(){var A,L,B,f,K=(A=this.W)==null?void 0:(L=A.liveStreamability)==null?void 0:(B=L.liveStreamabilityRenderer)==null?void 0:(f=B.offlineSlate)==null?void 0:f.liveStreamOfflineSlateRenderer;K&&(A=Math.floor(g.Ed()/1E3),L=K.canShowCountdown&&Number(K.scheduledStartTime),!L||L<=A?(JsK(this,K),this.countdownTimer.stop()):(JsK(this,K,g.hG(L-A)),g.Az(this.countdownTimer)))};
g.p.l1=function(){this.countdownTimer.dispose();this.countdownTimer=null;g.q.prototype.l1.call(this)};r7.prototype.W=function(A){return this.trigger&&A.trigger?this.trigger===A.trigger&&this.N===A.N:!1};
r7.prototype.isExpired=function(){return(0,g.bc)()-this.V>6E4};
r7.prototype.toString=function(){return"heartbeat:"+this.trigger+":"+this.N};g.G(DhB,g.FB);g.p=DhB.prototype;g.p.l1=function(){tM(this);this.player.Jf("heartbeat");g.FB.prototype.l1.call(this)};
g.p.onCueRangeEnter=function(){this.X=!0;Hx(this,so(this))};
g.p.bV=function(A){this.heartbeatParams=A;Hx(this,so(this))};
g.p.aK=function(A){var L;this.player.getPresentingPlayerType()!==8&&((L=this.N)==null?void 0:L.status)!=="UNPLAYABLE"&&(g.x(A.state,2)||g.x(A.state,64)?(tM(this),this.U&&(this.X=!0,Hx(this,so(this,!0)))):(L=this.player.K().experiments.Qf().N.Iv(g.j0B),(g.x(A.state,1)||g.x(A.state,8)||L&&g.x(A.state,4))&&Hx(this,so(this))))};
g.p.Kq=function(){this.player.getPresentingPlayerType()!==3&&Hx(this,so(this))};
g.p.getPlayerType=function(){if(this.player.getPresentingPlayerType()===8)return 1};
g.p.getVideoData=function(){return this.player.getVideoData(this.getPlayerType())};
g.p.Pg=function(A){switch(A){case 4:case 3:return!1}return!0};
g.p.Xu=function(A,L,B){A={trigger:A,reason:L};B&&(A.serializedServerContext=B.additionalLoggingData);g.pE("heartbeatActionPlayerTransitioned",A)};
g.p.SE=function(A){var L="LICENSE",B=ysB(A);if(B)return B.reason||g.XB[L]||"";if(A=A.match(jKR))if(A=Number(A[1]))L=(L=lnf[A.toString()])?L:"LICENSE";return g.XB[L]||""};
g.p.QD=function(){return!!this.offlineSlate&&this.offlineSlate.bC};
var jKR=/^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;g.Np("heartbeat",DhB);})(_yt_player);
